{"version":3,"file":null,"sources":["/Users/leeyeh/work/LeanCloud/js-realtime-sdk/package.json","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/src/tool/index.js","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/node_modules/leancloud-xmlhttprequest/lib/XMLHttpRequest.browser.js","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/src/tool/ajax.js","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/src/tool/eventcenter.js","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/node_modules/rsvp/dist/rsvp.js","/Users/leeyeh/work/LeanCloud/js-realtime-sdk/src/realtime.js"],"sourcesContent":["{\n  \"name\": \"leancloud-realtime\",\n  \"version\": \"2.3.5\",\n  \"description\": \"LeanCloud Realtime Message JavaScript SDK\",\n  \"main\": \"dist/bundle.js\",\n  \"jsnext:main\": \"src/realtime.js\",\n  \"directories\": {\n    \"test\": \"test\"\n  },\n  \"scripts\": {\n    \"test\": \"grunt test --stack\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/leancloud/js-realtime-sdk.git\"\n  },\n  \"keywords\": [\n    \"leancloud\",\n    \"realtime\",\n    \"message\"\n  ],\n  \"license\": \"MIT\",\n  \"bugs\": {\n    \"url\": \"https://github.com/leancloud/js-realtime-sdk/issues\"\n  },\n  \"homepage\": \"https://leancloud.cn/\",\n  \"devDependencies\": {\n    \"babel-preset-es2015-rollup\": \"^1.1.1\",\n    \"eslint-config-airbnb\": \"^3.1.0\",\n    \"eslint-plugin-react\": \"^3.15.0\",\n    \"grunt\": \"^0.4.5\",\n    \"grunt-contrib-connect\": \"^0.11\",\n    \"grunt-contrib-uglify\": \"^0.9.1\",\n    \"grunt-contrib-watch\": \"^0.6.1\",\n    \"grunt-env\": \"^0.4.4\",\n    \"grunt-envify\": \"0.0.3\",\n    \"grunt-eslint\": \"^17.3.1\",\n    \"grunt-rollup\": \"^0.6.1\",\n    \"grunt-saucelabs\": \"^8.6.1\",\n    \"grunt-simple-mocha\": \"^0.4.0\",\n    \"load-grunt-tasks\": \"^3.2.0\",\n    \"qiniu\": \"^6.1.9\",\n    \"rollup\": \"^0.24.1\",\n    \"rollup-plugin-babel\": \"^2.3.8\",\n    \"rollup-plugin-commonjs\": \"^2.1.0\",\n    \"rollup-plugin-json\": \"^2.0.0\",\n    \"rollup-plugin-npm\": \"^1.2.1\",\n    \"should\": \"^7.0.2\",\n    \"should-sinon\": \"0.0.3\",\n    \"sinon\": \"2.0.0-pre\"\n  },\n  \"dependencies\": {\n    \"es6-promise\": \"^3.0.2\",\n    \"leancloud-xmlhttprequest\": \"^1.8.1\",\n    \"rsvp\": \"^3.1.0\",\n    \"ws\": \"^1.0.1\"\n  },\n  \"browser\": {\n    \"ws\": false,\n    \"sinon\": false\n  }\n}\n","export function noop() {}\n\n// 检查是否是 JSON 格式的字符串\nexport function isJSONString(obj) {\n  return /^\\{.*\\}$/.test(obj);\n}\n\n// 获取当前时间的时间戳\nexport function now() {\n  return new Date().getTime();\n}\n\n// HTML 转义\nexport function encodeHTML(source) {\n  var encodeHTML = function(str) {\n    if (typeof(str) === 'string') {\n      return str.replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;');\n      // 考虑到其中有可能是 JSON，所以不做 HTML 强过滤，仅对标签过滤\n      // .replace(/\\\\/g,'&#92;')\n      // .replace(/\"/g,'&quot;')\n      // .replace(/'/g,'&#39;');\n    } else {\n      // 数字\n      return str;\n    }\n  };\n\n  // 对象类型\n  if (typeof(source) === 'object') {\n    for (var key in source) {\n      source[key] = tool.encodeHTML(source[key]);\n    }\n    return source;\n  } else {\n    // 非对象类型\n    return encodeHTML(source);\n  }\n}\n","\"use strict\";\n\nexports.XMLHttpRequest = window.XMLHttpRequest || window.XDomainRequest;\n\n","import { XMLHttpRequest } from 'leancloud-xmlhttprequest';\nexport const  ajax = (options, callback) => {\n  if (typeof options === 'string') {\n    options = {\n      url: options\n    };\n  }\n  var url = options.url;\n  var method = options.method || 'get';\n  var xhr = new XMLHttpRequest();\n\n  xhr.open(method, url);\n\n  xhr.onload = function(data) {\n    if ((xhr.status >= 200 && xhr.status < 300)) {\n      callback(null, JSON.parse(xhr.responseText));\n    } else {\n      callback(JSON.parse(xhr.responseText));\n    }\n  };\n\n  xhr.onerror = function(data) {\n    callback(data || {});\n    throw new Error('Network error.');\n  };\n\n  // IE9 中需要设置所有的 xhr 事件回调，不然可能会无法执行后续操作\n  xhr.onprogress = function() {};\n  xhr.ontimeout = function() {};\n  xhr.timeout = 0;\n\n  var body = JSON.stringify(options.data);\n\n  xhr.send(body);\n\n};\n","export const eventCenter = () => {\n  var eventList = {};\n  var eventOnceList = {};\n\n  var _on = function(eventName, fun, options) {\n    if (!eventName) {\n      throw new Error('No event name.');\n    } else if (!fun) {\n      throw new Error('No callback function.');\n    }\n    var list = eventName.split(/\\s+/);\n    var tempList;\n    var isOnce;\n    var isSingle;\n    if (options) {\n      isOnce = options.once;\n      isSingle = options.single;\n    }\n\n    if (!isOnce) {\n      tempList = eventList;\n    } else {\n      tempList = eventOnceList;\n    }\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i]) {\n        var itemEventList = tempList[list[i]];\n\n        if (!itemEventList) {\n          itemEventList = [];\n\n          // 将新指针指向原链表\n          tempList[list[i]] = itemEventList;\n        }\n\n        if (isSingle) {\n\n          // 标记是否存在重复的方法，如果有则为 true\n          var flag = false;\n          for (var m = 0, n = itemEventList.length; m < n; m++) {\n            if ((itemEventList[m]).toString() === (fun).toString()) {\n              flag = true;\n              break;\n            }\n          }\n\n          if (!flag) {\n            itemEventList.push(fun);\n          }\n        } else {\n          itemEventList.push(fun);\n        }\n\n      }\n    }\n  };\n\n  var _off = function(eventName, fun, options) {\n    var tempList;\n    var isOnce;\n    if (options) {\n      isOnce = options.once;\n    }\n    if (!isOnce) {\n      tempList = eventList;\n    } else {\n      tempList = eventOnceList;\n    }\n    if (tempList[eventName]) {\n      var i = 0;\n      var l = tempList[eventName].length;\n      for (; i < l; i++) {\n        if (tempList[eventName][i] === fun) {\n          tempList[eventName][i] = null;\n          // 每次只清除一个相同事件绑定\n          break;\n        }\n      }\n    }\n  };\n\n  function cleanNull(list) {\n    var tempList = [];\n    var i = 0;\n    var l = list.length;\n    if (l) {\n      for (; i < l; i++) {\n        if (list[i]) {\n          tempList.push(list[i]);\n        }\n      }\n      return tempList;\n    } else {\n      return null;\n    }\n  }\n\n  return {\n    on: function(eventName, fun) {\n      _on(eventName, fun);\n      return this;\n    },\n\n    // 方法绑定以后只会运行一次\n    once: function(eventName, fun) {\n      _on(eventName, fun, {\n        once: true\n      });\n      return this;\n    },\n\n    // 同一个方法只会被绑定一次\n    _one: function(eventName, fun) {\n      _on(eventName, fun, {\n        single: true\n      });\n    },\n    emit: function(eventName, data) {\n      if (!eventName) {\n        throw new Error('No emit event name.');\n      }\n      var i = 0;\n      var l = 0;\n      if (eventList[eventName]) {\n        i = 0;\n        l = eventList[eventName].length;\n        for (; i < l; i++) {\n          if (eventList[eventName][i]) {\n            eventList[eventName][i].call(this, data);\n          }\n        }\n        eventList[eventName] = cleanNull(eventList[eventName]);\n      }\n      if (eventOnceList[eventName]) {\n        i = 0;\n        l = eventOnceList[eventName].length;\n        for (; i < l; i++) {\n          if (eventOnceList[eventName][i]) {\n            eventOnceList[eventName][i].call(this, data);\n            _off(eventName, eventOnceList[eventName][i], {\n              once: true\n            });\n          }\n        }\n        eventOnceList[eventName] = cleanNull(eventOnceList[eventName]);\n      }\n      return this;\n    },\n    off: function(eventName, fun) {\n      _off(eventName, fun);\n      return this;\n    }\n  };\n}\n","/*!\n * @overview RSVP - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/tildeio/rsvp.js/master/LICENSE\n * @version   3.1.0\n */\n\n(function() {\n    \"use strict\";\n    function lib$rsvp$utils$$objectOrFunction(x) {\n      return typeof x === 'function' || (typeof x === 'object' && x !== null);\n    }\n\n    function lib$rsvp$utils$$isFunction(x) {\n      return typeof x === 'function';\n    }\n\n    function lib$rsvp$utils$$isMaybeThenable(x) {\n      return typeof x === 'object' && x !== null;\n    }\n\n    var lib$rsvp$utils$$_isArray;\n    if (!Array.isArray) {\n      lib$rsvp$utils$$_isArray = function (x) {\n        return Object.prototype.toString.call(x) === '[object Array]';\n      };\n    } else {\n      lib$rsvp$utils$$_isArray = Array.isArray;\n    }\n\n    var lib$rsvp$utils$$isArray = lib$rsvp$utils$$_isArray;\n\n    var lib$rsvp$utils$$now = Date.now || function() { return new Date().getTime(); };\n\n    function lib$rsvp$utils$$F() { }\n\n    var lib$rsvp$utils$$o_create = (Object.create || function (o) {\n      if (arguments.length > 1) {\n        throw new Error('Second argument not supported');\n      }\n      if (typeof o !== 'object') {\n        throw new TypeError('Argument must be an object');\n      }\n      lib$rsvp$utils$$F.prototype = o;\n      return new lib$rsvp$utils$$F();\n    });\n    function lib$rsvp$events$$indexOf(callbacks, callback) {\n      for (var i=0, l=callbacks.length; i<l; i++) {\n        if (callbacks[i] === callback) { return i; }\n      }\n\n      return -1;\n    }\n\n    function lib$rsvp$events$$callbacksFor(object) {\n      var callbacks = object._promiseCallbacks;\n\n      if (!callbacks) {\n        callbacks = object._promiseCallbacks = {};\n      }\n\n      return callbacks;\n    }\n\n    var lib$rsvp$events$$default = {\n\n      /**\n        `RSVP.EventTarget.mixin` extends an object with EventTarget methods. For\n        Example:\n\n        ```javascript\n        var object = {};\n\n        RSVP.EventTarget.mixin(object);\n\n        object.on('finished', function(event) {\n          // handle event\n        });\n\n        object.trigger('finished', { detail: value });\n        ```\n\n        `EventTarget.mixin` also works with prototypes:\n\n        ```javascript\n        var Person = function() {};\n        RSVP.EventTarget.mixin(Person.prototype);\n\n        var yehuda = new Person();\n        var tom = new Person();\n\n        yehuda.on('poke', function(event) {\n          console.log('Yehuda says OW');\n        });\n\n        tom.on('poke', function(event) {\n          console.log('Tom says OW');\n        });\n\n        yehuda.trigger('poke');\n        tom.trigger('poke');\n        ```\n\n        @method mixin\n        @for RSVP.EventTarget\n        @private\n        @param {Object} object object to extend with EventTarget methods\n      */\n      'mixin': function(object) {\n        object['on']      = this['on'];\n        object['off']     = this['off'];\n        object['trigger'] = this['trigger'];\n        object._promiseCallbacks = undefined;\n        return object;\n      },\n\n      /**\n        Registers a callback to be executed when `eventName` is triggered\n\n        ```javascript\n        object.on('event', function(eventInfo){\n          // handle the event\n        });\n\n        object.trigger('event');\n        ```\n\n        @method on\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName name of the event to listen for\n        @param {Function} callback function to be called when the event is triggered.\n      */\n      'on': function(eventName, callback) {\n        if (typeof callback !== 'function') {\n          throw new TypeError('Callback must be a function');\n        }\n\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks;\n\n        callbacks = allCallbacks[eventName];\n\n        if (!callbacks) {\n          callbacks = allCallbacks[eventName] = [];\n        }\n\n        if (lib$rsvp$events$$indexOf(callbacks, callback) === -1) {\n          callbacks.push(callback);\n        }\n      },\n\n      /**\n        You can use `off` to stop firing a particular callback for an event:\n\n        ```javascript\n        function doStuff() { // do stuff! }\n        object.on('stuff', doStuff);\n\n        object.trigger('stuff'); // doStuff will be called\n\n        // Unregister ONLY the doStuff callback\n        object.off('stuff', doStuff);\n        object.trigger('stuff'); // doStuff will NOT be called\n        ```\n\n        If you don't pass a `callback` argument to `off`, ALL callbacks for the\n        event will not be executed when the event fires. For example:\n\n        ```javascript\n        var callback1 = function(){};\n        var callback2 = function(){};\n\n        object.on('stuff', callback1);\n        object.on('stuff', callback2);\n\n        object.trigger('stuff'); // callback1 and callback2 will be executed.\n\n        object.off('stuff');\n        object.trigger('stuff'); // callback1 and callback2 will not be executed!\n        ```\n\n        @method off\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName event to stop listening to\n        @param {Function} callback optional argument. If given, only the function\n        given will be removed from the event's callback queue. If no `callback`\n        argument is given, all callbacks will be removed from the event's callback\n        queue.\n      */\n      'off': function(eventName, callback) {\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks, index;\n\n        if (!callback) {\n          allCallbacks[eventName] = [];\n          return;\n        }\n\n        callbacks = allCallbacks[eventName];\n\n        index = lib$rsvp$events$$indexOf(callbacks, callback);\n\n        if (index !== -1) { callbacks.splice(index, 1); }\n      },\n\n      /**\n        Use `trigger` to fire custom events. For example:\n\n        ```javascript\n        object.on('foo', function(){\n          console.log('foo event happened!');\n        });\n        object.trigger('foo');\n        // 'foo event happened!' logged to the console\n        ```\n\n        You can also pass a value as a second argument to `trigger` that will be\n        passed as an argument to all event listeners for the event:\n\n        ```javascript\n        object.on('foo', function(value){\n          console.log(value.name);\n        });\n\n        object.trigger('foo', { name: 'bar' });\n        // 'bar' logged to the console\n        ```\n\n        @method trigger\n        @for RSVP.EventTarget\n        @private\n        @param {String} eventName name of the event to be triggered\n        @param {*} options optional value to be passed to any event handlers for\n        the given `eventName`\n      */\n      'trigger': function(eventName, options, label) {\n        var allCallbacks = lib$rsvp$events$$callbacksFor(this), callbacks, callback;\n\n        if (callbacks = allCallbacks[eventName]) {\n          // Don't cache the callbacks.length since it may grow\n          for (var i=0; i<callbacks.length; i++) {\n            callback = callbacks[i];\n\n            callback(options, label);\n          }\n        }\n      }\n    };\n\n    var lib$rsvp$config$$config = {\n      instrument: false\n    };\n\n    lib$rsvp$events$$default['mixin'](lib$rsvp$config$$config);\n\n    function lib$rsvp$config$$configure(name, value) {\n      if (name === 'onerror') {\n        // handle for legacy users that expect the actual\n        // error to be passed to their function added via\n        // `RSVP.configure('onerror', someFunctionHere);`\n        lib$rsvp$config$$config['on']('error', value);\n        return;\n      }\n\n      if (arguments.length === 2) {\n        lib$rsvp$config$$config[name] = value;\n      } else {\n        return lib$rsvp$config$$config[name];\n      }\n    }\n\n    var lib$rsvp$instrument$$queue = [];\n\n    function lib$rsvp$instrument$$scheduleFlush() {\n      setTimeout(function() {\n        var entry;\n        for (var i = 0; i < lib$rsvp$instrument$$queue.length; i++) {\n          entry = lib$rsvp$instrument$$queue[i];\n\n          var payload = entry.payload;\n\n          payload.guid = payload.key + payload.id;\n          payload.childGuid = payload.key + payload.childId;\n          if (payload.error) {\n            payload.stack = payload.error.stack;\n          }\n\n          lib$rsvp$config$$config['trigger'](entry.name, entry.payload);\n        }\n        lib$rsvp$instrument$$queue.length = 0;\n      }, 50);\n    }\n\n    function lib$rsvp$instrument$$instrument(eventName, promise, child) {\n      if (1 === lib$rsvp$instrument$$queue.push({\n        name: eventName,\n        payload: {\n          key: promise._guidKey,\n          id:  promise._id,\n          eventName: eventName,\n          detail: promise._result,\n          childId: child && child._id,\n          label: promise._label,\n          timeStamp: lib$rsvp$utils$$now(),\n          error: lib$rsvp$config$$config[\"instrument-with-stack\"] ? new Error(promise._label) : null\n        }})) {\n          lib$rsvp$instrument$$scheduleFlush();\n        }\n      }\n    var lib$rsvp$instrument$$default = lib$rsvp$instrument$$instrument;\n\n    function  lib$rsvp$$internal$$withOwnPromise() {\n      return new TypeError('A promises callback cannot return that same promise.');\n    }\n\n    function lib$rsvp$$internal$$noop() {}\n\n    var lib$rsvp$$internal$$PENDING   = void 0;\n    var lib$rsvp$$internal$$FULFILLED = 1;\n    var lib$rsvp$$internal$$REJECTED  = 2;\n\n    var lib$rsvp$$internal$$GET_THEN_ERROR = new lib$rsvp$$internal$$ErrorObject();\n\n    function lib$rsvp$$internal$$getThen(promise) {\n      try {\n        return promise.then;\n      } catch(error) {\n        lib$rsvp$$internal$$GET_THEN_ERROR.error = error;\n        return lib$rsvp$$internal$$GET_THEN_ERROR;\n      }\n    }\n\n    function lib$rsvp$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\n      try {\n        then.call(value, fulfillmentHandler, rejectionHandler);\n      } catch(e) {\n        return e;\n      }\n    }\n\n    function lib$rsvp$$internal$$handleForeignThenable(promise, thenable, then) {\n      lib$rsvp$config$$config.async(function(promise) {\n        var sealed = false;\n        var error = lib$rsvp$$internal$$tryThen(then, thenable, function(value) {\n          if (sealed) { return; }\n          sealed = true;\n          if (thenable !== value) {\n            lib$rsvp$$internal$$resolve(promise, value);\n          } else {\n            lib$rsvp$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          if (sealed) { return; }\n          sealed = true;\n\n          lib$rsvp$$internal$$reject(promise, reason);\n        }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n        if (!sealed && error) {\n          sealed = true;\n          lib$rsvp$$internal$$reject(promise, error);\n        }\n      }, promise);\n    }\n\n    function lib$rsvp$$internal$$handleOwnThenable(promise, thenable) {\n      if (thenable._state === lib$rsvp$$internal$$FULFILLED) {\n        lib$rsvp$$internal$$fulfill(promise, thenable._result);\n      } else if (thenable._state === lib$rsvp$$internal$$REJECTED) {\n        thenable._onError = null;\n        lib$rsvp$$internal$$reject(promise, thenable._result);\n      } else {\n        lib$rsvp$$internal$$subscribe(thenable, undefined, function(value) {\n          if (thenable !== value) {\n            lib$rsvp$$internal$$resolve(promise, value);\n          } else {\n            lib$rsvp$$internal$$fulfill(promise, value);\n          }\n        }, function(reason) {\n          lib$rsvp$$internal$$reject(promise, reason);\n        });\n      }\n    }\n\n    function lib$rsvp$$internal$$handleMaybeThenable(promise, maybeThenable) {\n      if (maybeThenable.constructor === promise.constructor) {\n        lib$rsvp$$internal$$handleOwnThenable(promise, maybeThenable);\n      } else {\n        var then = lib$rsvp$$internal$$getThen(maybeThenable);\n\n        if (then === lib$rsvp$$internal$$GET_THEN_ERROR) {\n          lib$rsvp$$internal$$reject(promise, lib$rsvp$$internal$$GET_THEN_ERROR.error);\n        } else if (then === undefined) {\n          lib$rsvp$$internal$$fulfill(promise, maybeThenable);\n        } else if (lib$rsvp$utils$$isFunction(then)) {\n          lib$rsvp$$internal$$handleForeignThenable(promise, maybeThenable, then);\n        } else {\n          lib$rsvp$$internal$$fulfill(promise, maybeThenable);\n        }\n      }\n    }\n\n    function lib$rsvp$$internal$$resolve(promise, value) {\n      if (promise === value) {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      } else if (lib$rsvp$utils$$objectOrFunction(value)) {\n        lib$rsvp$$internal$$handleMaybeThenable(promise, value);\n      } else {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      }\n    }\n\n    function lib$rsvp$$internal$$publishRejection(promise) {\n      if (promise._onError) {\n        promise._onError(promise._result);\n      }\n\n      lib$rsvp$$internal$$publish(promise);\n    }\n\n    function lib$rsvp$$internal$$fulfill(promise, value) {\n      if (promise._state !== lib$rsvp$$internal$$PENDING) { return; }\n\n      promise._result = value;\n      promise._state = lib$rsvp$$internal$$FULFILLED;\n\n      if (promise._subscribers.length === 0) {\n        if (lib$rsvp$config$$config.instrument) {\n          lib$rsvp$instrument$$default('fulfilled', promise);\n        }\n      } else {\n        lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish, promise);\n      }\n    }\n\n    function lib$rsvp$$internal$$reject(promise, reason) {\n      if (promise._state !== lib$rsvp$$internal$$PENDING) { return; }\n      promise._state = lib$rsvp$$internal$$REJECTED;\n      promise._result = reason;\n      lib$rsvp$config$$config.async(lib$rsvp$$internal$$publishRejection, promise);\n    }\n\n    function lib$rsvp$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\n      var subscribers = parent._subscribers;\n      var length = subscribers.length;\n\n      parent._onError = null;\n\n      subscribers[length] = child;\n      subscribers[length + lib$rsvp$$internal$$FULFILLED] = onFulfillment;\n      subscribers[length + lib$rsvp$$internal$$REJECTED]  = onRejection;\n\n      if (length === 0 && parent._state) {\n        lib$rsvp$config$$config.async(lib$rsvp$$internal$$publish, parent);\n      }\n    }\n\n    function lib$rsvp$$internal$$publish(promise) {\n      var subscribers = promise._subscribers;\n      var settled = promise._state;\n\n      if (lib$rsvp$config$$config.instrument) {\n        lib$rsvp$instrument$$default(settled === lib$rsvp$$internal$$FULFILLED ? 'fulfilled' : 'rejected', promise);\n      }\n\n      if (subscribers.length === 0) { return; }\n\n      var child, callback, detail = promise._result;\n\n      for (var i = 0; i < subscribers.length; i += 3) {\n        child = subscribers[i];\n        callback = subscribers[i + settled];\n\n        if (child) {\n          lib$rsvp$$internal$$invokeCallback(settled, child, callback, detail);\n        } else {\n          callback(detail);\n        }\n      }\n\n      promise._subscribers.length = 0;\n    }\n\n    function lib$rsvp$$internal$$ErrorObject() {\n      this.error = null;\n    }\n\n    var lib$rsvp$$internal$$TRY_CATCH_ERROR = new lib$rsvp$$internal$$ErrorObject();\n\n    function lib$rsvp$$internal$$tryCatch(callback, detail) {\n      try {\n        return callback(detail);\n      } catch(e) {\n        lib$rsvp$$internal$$TRY_CATCH_ERROR.error = e;\n        return lib$rsvp$$internal$$TRY_CATCH_ERROR;\n      }\n    }\n\n    function lib$rsvp$$internal$$invokeCallback(settled, promise, callback, detail) {\n      var hasCallback = lib$rsvp$utils$$isFunction(callback),\n          value, error, succeeded, failed;\n\n      if (hasCallback) {\n        value = lib$rsvp$$internal$$tryCatch(callback, detail);\n\n        if (value === lib$rsvp$$internal$$TRY_CATCH_ERROR) {\n          failed = true;\n          error = value.error;\n          value = null;\n        } else {\n          succeeded = true;\n        }\n\n        if (promise === value) {\n          lib$rsvp$$internal$$reject(promise, lib$rsvp$$internal$$withOwnPromise());\n          return;\n        }\n\n      } else {\n        value = detail;\n        succeeded = true;\n      }\n\n      if (promise._state !== lib$rsvp$$internal$$PENDING) {\n        // noop\n      } else if (hasCallback && succeeded) {\n        lib$rsvp$$internal$$resolve(promise, value);\n      } else if (failed) {\n        lib$rsvp$$internal$$reject(promise, error);\n      } else if (settled === lib$rsvp$$internal$$FULFILLED) {\n        lib$rsvp$$internal$$fulfill(promise, value);\n      } else if (settled === lib$rsvp$$internal$$REJECTED) {\n        lib$rsvp$$internal$$reject(promise, value);\n      }\n    }\n\n    function lib$rsvp$$internal$$initializePromise(promise, resolver) {\n      var resolved = false;\n      try {\n        resolver(function resolvePromise(value){\n          if (resolved) { return; }\n          resolved = true;\n          lib$rsvp$$internal$$resolve(promise, value);\n        }, function rejectPromise(reason) {\n          if (resolved) { return; }\n          resolved = true;\n          lib$rsvp$$internal$$reject(promise, reason);\n        });\n      } catch(e) {\n        lib$rsvp$$internal$$reject(promise, e);\n      }\n    }\n\n    function lib$rsvp$enumerator$$makeSettledResult(state, position, value) {\n      if (state === lib$rsvp$$internal$$FULFILLED) {\n        return {\n          state: 'fulfilled',\n          value: value\n        };\n      } else {\n         return {\n          state: 'rejected',\n          reason: value\n        };\n      }\n    }\n\n    function lib$rsvp$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\n      var enumerator = this;\n\n      enumerator._instanceConstructor = Constructor;\n      enumerator.promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      enumerator._abortOnReject = abortOnReject;\n\n      if (enumerator._validateInput(input)) {\n        enumerator._input     = input;\n        enumerator.length     = input.length;\n        enumerator._remaining = input.length;\n\n        enumerator._init();\n\n        if (enumerator.length === 0) {\n          lib$rsvp$$internal$$fulfill(enumerator.promise, enumerator._result);\n        } else {\n          enumerator.length = enumerator.length || 0;\n          enumerator._enumerate();\n          if (enumerator._remaining === 0) {\n            lib$rsvp$$internal$$fulfill(enumerator.promise, enumerator._result);\n          }\n        }\n      } else {\n        lib$rsvp$$internal$$reject(enumerator.promise, enumerator._validationError());\n      }\n    }\n\n    var lib$rsvp$enumerator$$default = lib$rsvp$enumerator$$Enumerator;\n\n    lib$rsvp$enumerator$$Enumerator.prototype._validateInput = function(input) {\n      return lib$rsvp$utils$$isArray(input);\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._validationError = function() {\n      return new Error('Array Methods must be provided an Array');\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._init = function() {\n      this._result = new Array(this.length);\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._enumerate = function() {\n      var enumerator = this;\n      var length     = enumerator.length;\n      var promise    = enumerator.promise;\n      var input      = enumerator._input;\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        enumerator._eachEntry(input[i], i);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\n      var enumerator = this;\n      var c = enumerator._instanceConstructor;\n      if (lib$rsvp$utils$$isMaybeThenable(entry)) {\n        if (entry.constructor === c && entry._state !== lib$rsvp$$internal$$PENDING) {\n          entry._onError = null;\n          enumerator._settledAt(entry._state, i, entry._result);\n        } else {\n          enumerator._willSettleAt(c.resolve(entry), i);\n        }\n      } else {\n        enumerator._remaining--;\n        enumerator._result[i] = enumerator._makeResult(lib$rsvp$$internal$$FULFILLED, i, entry);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\n      var enumerator = this;\n      var promise = enumerator.promise;\n\n      if (promise._state === lib$rsvp$$internal$$PENDING) {\n        enumerator._remaining--;\n\n        if (enumerator._abortOnReject && state === lib$rsvp$$internal$$REJECTED) {\n          lib$rsvp$$internal$$reject(promise, value);\n        } else {\n          enumerator._result[i] = enumerator._makeResult(state, i, value);\n        }\n      }\n\n      if (enumerator._remaining === 0) {\n        lib$rsvp$$internal$$fulfill(promise, enumerator._result);\n      }\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\n      return value;\n    };\n\n    lib$rsvp$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\n      var enumerator = this;\n\n      lib$rsvp$$internal$$subscribe(promise, undefined, function(value) {\n        enumerator._settledAt(lib$rsvp$$internal$$FULFILLED, i, value);\n      }, function(reason) {\n        enumerator._settledAt(lib$rsvp$$internal$$REJECTED, i, reason);\n      });\n    };\n    function lib$rsvp$promise$all$$all(entries, label) {\n      return new lib$rsvp$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\n    }\n    var lib$rsvp$promise$all$$default = lib$rsvp$promise$all$$all;\n    function lib$rsvp$promise$race$$race(entries, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n\n      if (!lib$rsvp$utils$$isArray(entries)) {\n        lib$rsvp$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\n        return promise;\n      }\n\n      var length = entries.length;\n\n      function onFulfillment(value) {\n        lib$rsvp$$internal$$resolve(promise, value);\n      }\n\n      function onRejection(reason) {\n        lib$rsvp$$internal$$reject(promise, reason);\n      }\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        lib$rsvp$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\n      }\n\n      return promise;\n    }\n    var lib$rsvp$promise$race$$default = lib$rsvp$promise$race$$race;\n    function lib$rsvp$promise$resolve$$resolve(object, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n\n      if (object && typeof object === 'object' && object.constructor === Constructor) {\n        return object;\n      }\n\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      lib$rsvp$$internal$$resolve(promise, object);\n      return promise;\n    }\n    var lib$rsvp$promise$resolve$$default = lib$rsvp$promise$resolve$$resolve;\n    function lib$rsvp$promise$reject$$reject(reason, label) {\n      /*jshint validthis:true */\n      var Constructor = this;\n      var promise = new Constructor(lib$rsvp$$internal$$noop, label);\n      lib$rsvp$$internal$$reject(promise, reason);\n      return promise;\n    }\n    var lib$rsvp$promise$reject$$default = lib$rsvp$promise$reject$$reject;\n\n    var lib$rsvp$promise$$guidKey = 'rsvp_' + lib$rsvp$utils$$now() + '-';\n    var lib$rsvp$promise$$counter = 0;\n\n    function lib$rsvp$promise$$needsResolver() {\n      throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n    }\n\n    function lib$rsvp$promise$$needsNew() {\n      throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n    }\n\n    function lib$rsvp$promise$$Promise(resolver, label) {\n      var promise = this;\n\n      promise._id = lib$rsvp$promise$$counter++;\n      promise._label = label;\n      promise._state = undefined;\n      promise._result = undefined;\n      promise._subscribers = [];\n\n      if (lib$rsvp$config$$config.instrument) {\n        lib$rsvp$instrument$$default('created', promise);\n      }\n\n      if (lib$rsvp$$internal$$noop !== resolver) {\n        if (!lib$rsvp$utils$$isFunction(resolver)) {\n          lib$rsvp$promise$$needsResolver();\n        }\n\n        if (!(promise instanceof lib$rsvp$promise$$Promise)) {\n          lib$rsvp$promise$$needsNew();\n        }\n\n        lib$rsvp$$internal$$initializePromise(promise, resolver);\n      }\n    }\n\n    var lib$rsvp$promise$$default = lib$rsvp$promise$$Promise;\n\n    // deprecated\n    lib$rsvp$promise$$Promise.cast = lib$rsvp$promise$resolve$$default;\n    lib$rsvp$promise$$Promise.all = lib$rsvp$promise$all$$default;\n    lib$rsvp$promise$$Promise.race = lib$rsvp$promise$race$$default;\n    lib$rsvp$promise$$Promise.resolve = lib$rsvp$promise$resolve$$default;\n    lib$rsvp$promise$$Promise.reject = lib$rsvp$promise$reject$$default;\n\n    lib$rsvp$promise$$Promise.prototype = {\n      constructor: lib$rsvp$promise$$Promise,\n\n      _guidKey: lib$rsvp$promise$$guidKey,\n\n      _onError: function (reason) {\n        var promise = this;\n        lib$rsvp$config$$config.after(function() {\n          if (promise._onError) {\n            lib$rsvp$config$$config['trigger']('error', reason, promise._label);\n          }\n        });\n      },\n\n    /**\n      The primary way of interacting with a promise is through its `then` method,\n      which registers callbacks to receive either a promise's eventual value or the\n      reason why the promise cannot be fulfilled.\n\n      ```js\n      findUser().then(function(user){\n        // user is available\n      }, function(reason){\n        // user is unavailable, and you are given the reason why\n      });\n      ```\n\n      Chaining\n      --------\n\n      The return value of `then` is itself a promise.  This second, 'downstream'\n      promise is resolved with the return value of the first promise's fulfillment\n      or rejection handler, or rejected if the handler throws an exception.\n\n      ```js\n      findUser().then(function (user) {\n        return user.name;\n      }, function (reason) {\n        return 'default name';\n      }).then(function (userName) {\n        // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n        // will be `'default name'`\n      });\n\n      findUser().then(function (user) {\n        throw new Error('Found user, but still unhappy');\n      }, function (reason) {\n        throw new Error('`findUser` rejected and we're unhappy');\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n        // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n      });\n      ```\n      If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n\n      ```js\n      findUser().then(function (user) {\n        throw new PedagogicalException('Upstream error');\n      }).then(function (value) {\n        // never reached\n      }).then(function (value) {\n        // never reached\n      }, function (reason) {\n        // The `PedgagocialException` is propagated all the way down to here\n      });\n      ```\n\n      Assimilation\n      ------------\n\n      Sometimes the value you want to propagate to a downstream promise can only be\n      retrieved asynchronously. This can be achieved by returning a promise in the\n      fulfillment or rejection handler. The downstream promise will then be pending\n      until the returned promise is settled. This is called *assimilation*.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // The user's comments are now available\n      });\n      ```\n\n      If the assimliated promise rejects, then the downstream promise will also reject.\n\n      ```js\n      findUser().then(function (user) {\n        return findCommentsByAuthor(user);\n      }).then(function (comments) {\n        // If `findCommentsByAuthor` fulfills, we'll have the value here\n      }, function (reason) {\n        // If `findCommentsByAuthor` rejects, we'll have the reason here\n      });\n      ```\n\n      Simple Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var result;\n\n      try {\n        result = findResult();\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n      findResult(function(result, err){\n        if (err) {\n          // failure\n        } else {\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findResult().then(function(result){\n        // success\n      }, function(reason){\n        // failure\n      });\n      ```\n\n      Advanced Example\n      --------------\n\n      Synchronous Example\n\n      ```javascript\n      var author, books;\n\n      try {\n        author = findAuthor();\n        books  = findBooksByAuthor(author);\n        // success\n      } catch(reason) {\n        // failure\n      }\n      ```\n\n      Errback Example\n\n      ```js\n\n      function foundBooks(books) {\n\n      }\n\n      function failure(reason) {\n\n      }\n\n      findAuthor(function(author, err){\n        if (err) {\n          failure(err);\n          // failure\n        } else {\n          try {\n            findBoooksByAuthor(author, function(books, err) {\n              if (err) {\n                failure(err);\n              } else {\n                try {\n                  foundBooks(books);\n                } catch(reason) {\n                  failure(reason);\n                }\n              }\n            });\n          } catch(error) {\n            failure(err);\n          }\n          // success\n        }\n      });\n      ```\n\n      Promise Example;\n\n      ```javascript\n      findAuthor().\n        then(findBooksByAuthor).\n        then(function(books){\n          // found books\n      }).catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method then\n      @param {Function} onFulfillment\n      @param {Function} onRejection\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      then: function(onFulfillment, onRejection, label) {\n        var parent = this;\n        var state = parent._state;\n\n        if (state === lib$rsvp$$internal$$FULFILLED && !onFulfillment || state === lib$rsvp$$internal$$REJECTED && !onRejection) {\n          if (lib$rsvp$config$$config.instrument) {\n            lib$rsvp$instrument$$default('chained', parent, parent);\n          }\n          return parent;\n        }\n\n        parent._onError = null;\n\n        var child = new parent.constructor(lib$rsvp$$internal$$noop, label);\n        var result = parent._result;\n\n        if (lib$rsvp$config$$config.instrument) {\n          lib$rsvp$instrument$$default('chained', parent, child);\n        }\n\n        if (state) {\n          var callback = arguments[state - 1];\n          lib$rsvp$config$$config.async(function(){\n            lib$rsvp$$internal$$invokeCallback(state, child, callback, result);\n          });\n        } else {\n          lib$rsvp$$internal$$subscribe(parent, child, onFulfillment, onRejection);\n        }\n\n        return child;\n      },\n\n    /**\n      `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n      as the catch block of a try/catch statement.\n\n      ```js\n      function findAuthor(){\n        throw new Error('couldn't find that author');\n      }\n\n      // synchronous\n      try {\n        findAuthor();\n      } catch(reason) {\n        // something went wrong\n      }\n\n      // async with promises\n      findAuthor().catch(function(reason){\n        // something went wrong\n      });\n      ```\n\n      @method catch\n      @param {Function} onRejection\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      'catch': function(onRejection, label) {\n        return this.then(undefined, onRejection, label);\n      },\n\n    /**\n      `finally` will be invoked regardless of the promise's fate just as native\n      try/catch/finally behaves\n\n      Synchronous example:\n\n      ```js\n      findAuthor() {\n        if (Math.random() > 0.5) {\n          throw new Error();\n        }\n        return new Author();\n      }\n\n      try {\n        return findAuthor(); // succeed or fail\n      } catch(error) {\n        return findOtherAuther();\n      } finally {\n        // always runs\n        // doesn't affect the return value\n      }\n      ```\n\n      Asynchronous example:\n\n      ```js\n      findAuthor().catch(function(reason){\n        return findOtherAuther();\n      }).finally(function(){\n        // author was either found, or not\n      });\n      ```\n\n      @method finally\n      @param {Function} callback\n      @param {String} label optional string for labeling the promise.\n      Useful for tooling.\n      @return {Promise}\n    */\n      'finally': function(callback, label) {\n        var promise = this;\n        var constructor = promise.constructor;\n\n        return promise.then(function(value) {\n          return constructor.resolve(callback()).then(function(){\n            return value;\n          });\n        }, function(reason) {\n          return constructor.resolve(callback()).then(function(){\n            throw reason;\n          });\n        }, label);\n      }\n    };\n\n    function lib$rsvp$all$settled$$AllSettled(Constructor, entries, label) {\n      this._superConstructor(Constructor, entries, false /* don't abort on reject */, label);\n    }\n\n    lib$rsvp$all$settled$$AllSettled.prototype = lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype);\n    lib$rsvp$all$settled$$AllSettled.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$all$settled$$AllSettled.prototype._makeResult = lib$rsvp$enumerator$$makeSettledResult;\n    lib$rsvp$all$settled$$AllSettled.prototype._validationError = function() {\n      return new Error('allSettled must be called with an array');\n    };\n\n    function lib$rsvp$all$settled$$allSettled(entries, label) {\n      return new lib$rsvp$all$settled$$AllSettled(lib$rsvp$promise$$default, entries, label).promise;\n    }\n    var lib$rsvp$all$settled$$default = lib$rsvp$all$settled$$allSettled;\n    function lib$rsvp$all$$all(array, label) {\n      return lib$rsvp$promise$$default.all(array, label);\n    }\n    var lib$rsvp$all$$default = lib$rsvp$all$$all;\n    var lib$rsvp$asap$$len = 0;\n    var lib$rsvp$asap$$toString = {}.toString;\n    var lib$rsvp$asap$$vertxNext;\n    function lib$rsvp$asap$$asap(callback, arg) {\n      lib$rsvp$asap$$queue[lib$rsvp$asap$$len] = callback;\n      lib$rsvp$asap$$queue[lib$rsvp$asap$$len + 1] = arg;\n      lib$rsvp$asap$$len += 2;\n      if (lib$rsvp$asap$$len === 2) {\n        // If len is 1, that means that we need to schedule an async flush.\n        // If additional callbacks are queued before the queue is flushed, they\n        // will be processed by this flush that we are scheduling.\n        lib$rsvp$asap$$scheduleFlush();\n      }\n    }\n\n    var lib$rsvp$asap$$default = lib$rsvp$asap$$asap;\n\n    var lib$rsvp$asap$$browserWindow = (typeof window !== 'undefined') ? window : undefined;\n    var lib$rsvp$asap$$browserGlobal = lib$rsvp$asap$$browserWindow || {};\n    var lib$rsvp$asap$$BrowserMutationObserver = lib$rsvp$asap$$browserGlobal.MutationObserver || lib$rsvp$asap$$browserGlobal.WebKitMutationObserver;\n    var lib$rsvp$asap$$isNode = typeof self === 'undefined' &&\n      typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n    // test for web worker but not in IE10\n    var lib$rsvp$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\n      typeof importScripts !== 'undefined' &&\n      typeof MessageChannel !== 'undefined';\n\n    // node\n    function lib$rsvp$asap$$useNextTick() {\n      var nextTick = process.nextTick;\n      // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n      // setImmediate should be used instead instead\n      var version = process.versions.node.match(/^(?:(\\d+)\\.)?(?:(\\d+)\\.)?(\\*|\\d+)$/);\n      if (Array.isArray(version) && version[1] === '0' && version[2] === '10') {\n        nextTick = setImmediate;\n      }\n      return function() {\n        nextTick(lib$rsvp$asap$$flush);\n      };\n    }\n\n    // vertx\n    function lib$rsvp$asap$$useVertxTimer() {\n      return function() {\n        lib$rsvp$asap$$vertxNext(lib$rsvp$asap$$flush);\n      };\n    }\n\n    function lib$rsvp$asap$$useMutationObserver() {\n      var iterations = 0;\n      var observer = new lib$rsvp$asap$$BrowserMutationObserver(lib$rsvp$asap$$flush);\n      var node = document.createTextNode('');\n      observer.observe(node, { characterData: true });\n\n      return function() {\n        node.data = (iterations = ++iterations % 2);\n      };\n    }\n\n    // web worker\n    function lib$rsvp$asap$$useMessageChannel() {\n      var channel = new MessageChannel();\n      channel.port1.onmessage = lib$rsvp$asap$$flush;\n      return function () {\n        channel.port2.postMessage(0);\n      };\n    }\n\n    function lib$rsvp$asap$$useSetTimeout() {\n      return function() {\n        setTimeout(lib$rsvp$asap$$flush, 1);\n      };\n    }\n\n    var lib$rsvp$asap$$queue = new Array(1000);\n    function lib$rsvp$asap$$flush() {\n      for (var i = 0; i < lib$rsvp$asap$$len; i+=2) {\n        var callback = lib$rsvp$asap$$queue[i];\n        var arg = lib$rsvp$asap$$queue[i+1];\n\n        callback(arg);\n\n        lib$rsvp$asap$$queue[i] = undefined;\n        lib$rsvp$asap$$queue[i+1] = undefined;\n      }\n\n      lib$rsvp$asap$$len = 0;\n    }\n\n    function lib$rsvp$asap$$attemptVertex() {\n      try {\n        var r = require;\n        var vertx = r('vertx');\n        lib$rsvp$asap$$vertxNext = vertx.runOnLoop || vertx.runOnContext;\n        return lib$rsvp$asap$$useVertxTimer();\n      } catch(e) {\n        return lib$rsvp$asap$$useSetTimeout();\n      }\n    }\n\n    var lib$rsvp$asap$$scheduleFlush;\n    // Decide what async method to use to triggering processing of queued callbacks:\n    if (lib$rsvp$asap$$isNode) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useNextTick();\n    } else if (lib$rsvp$asap$$BrowserMutationObserver) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useMutationObserver();\n    } else if (lib$rsvp$asap$$isWorker) {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useMessageChannel();\n    } else if (lib$rsvp$asap$$browserWindow === undefined && typeof require === 'function') {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$attemptVertex();\n    } else {\n      lib$rsvp$asap$$scheduleFlush = lib$rsvp$asap$$useSetTimeout();\n    }\n    function lib$rsvp$defer$$defer(label) {\n      var deferred = {};\n\n      deferred['promise'] = new lib$rsvp$promise$$default(function(resolve, reject) {\n        deferred['resolve'] = resolve;\n        deferred['reject'] = reject;\n      }, label);\n\n      return deferred;\n    }\n    var lib$rsvp$defer$$default = lib$rsvp$defer$$defer;\n    function lib$rsvp$filter$$filter(promises, filterFn, label) {\n      return lib$rsvp$promise$$default.all(promises, label).then(function(values) {\n        if (!lib$rsvp$utils$$isFunction(filterFn)) {\n          throw new TypeError(\"You must pass a function as filter's second argument.\");\n        }\n\n        var length = values.length;\n        var filtered = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          filtered[i] = filterFn(values[i]);\n        }\n\n        return lib$rsvp$promise$$default.all(filtered, label).then(function(filtered) {\n          var results = new Array(length);\n          var newLength = 0;\n\n          for (var i = 0; i < length; i++) {\n            if (filtered[i]) {\n              results[newLength] = values[i];\n              newLength++;\n            }\n          }\n\n          results.length = newLength;\n\n          return results;\n        });\n      });\n    }\n    var lib$rsvp$filter$$default = lib$rsvp$filter$$filter;\n\n    function lib$rsvp$promise$hash$$PromiseHash(Constructor, object, label) {\n      this._superConstructor(Constructor, object, true, label);\n    }\n\n    var lib$rsvp$promise$hash$$default = lib$rsvp$promise$hash$$PromiseHash;\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype = lib$rsvp$utils$$o_create(lib$rsvp$enumerator$$default.prototype);\n    lib$rsvp$promise$hash$$PromiseHash.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$promise$hash$$PromiseHash.prototype._init = function() {\n      this._result = {};\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._validateInput = function(input) {\n      return input && typeof input === 'object';\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._validationError = function() {\n      return new Error('Promise.hash must be called with an object');\n    };\n\n    lib$rsvp$promise$hash$$PromiseHash.prototype._enumerate = function() {\n      var enumerator = this;\n      var promise    = enumerator.promise;\n      var input      = enumerator._input;\n      var results    = [];\n\n      for (var key in input) {\n        if (promise._state === lib$rsvp$$internal$$PENDING && Object.prototype.hasOwnProperty.call(input, key)) {\n          results.push({\n            position: key,\n            entry: input[key]\n          });\n        }\n      }\n\n      var length = results.length;\n      enumerator._remaining = length;\n      var result;\n\n      for (var i = 0; promise._state === lib$rsvp$$internal$$PENDING && i < length; i++) {\n        result = results[i];\n        enumerator._eachEntry(result.entry, result.position);\n      }\n    };\n\n    function lib$rsvp$hash$settled$$HashSettled(Constructor, object, label) {\n      this._superConstructor(Constructor, object, false, label);\n    }\n\n    lib$rsvp$hash$settled$$HashSettled.prototype = lib$rsvp$utils$$o_create(lib$rsvp$promise$hash$$default.prototype);\n    lib$rsvp$hash$settled$$HashSettled.prototype._superConstructor = lib$rsvp$enumerator$$default;\n    lib$rsvp$hash$settled$$HashSettled.prototype._makeResult = lib$rsvp$enumerator$$makeSettledResult;\n\n    lib$rsvp$hash$settled$$HashSettled.prototype._validationError = function() {\n      return new Error('hashSettled must be called with an object');\n    };\n\n    function lib$rsvp$hash$settled$$hashSettled(object, label) {\n      return new lib$rsvp$hash$settled$$HashSettled(lib$rsvp$promise$$default, object, label).promise;\n    }\n    var lib$rsvp$hash$settled$$default = lib$rsvp$hash$settled$$hashSettled;\n    function lib$rsvp$hash$$hash(object, label) {\n      return new lib$rsvp$promise$hash$$default(lib$rsvp$promise$$default, object, label).promise;\n    }\n    var lib$rsvp$hash$$default = lib$rsvp$hash$$hash;\n    function lib$rsvp$map$$map(promises, mapFn, label) {\n      return lib$rsvp$promise$$default.all(promises, label).then(function(values) {\n        if (!lib$rsvp$utils$$isFunction(mapFn)) {\n          throw new TypeError(\"You must pass a function as map's second argument.\");\n        }\n\n        var length = values.length;\n        var results = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          results[i] = mapFn(values[i]);\n        }\n\n        return lib$rsvp$promise$$default.all(results, label);\n      });\n    }\n    var lib$rsvp$map$$default = lib$rsvp$map$$map;\n\n    function lib$rsvp$node$$Result() {\n      this.value = undefined;\n    }\n\n    var lib$rsvp$node$$ERROR = new lib$rsvp$node$$Result();\n    var lib$rsvp$node$$GET_THEN_ERROR = new lib$rsvp$node$$Result();\n\n    function lib$rsvp$node$$getThen(obj) {\n      try {\n       return obj.then;\n      } catch(error) {\n        lib$rsvp$node$$ERROR.value= error;\n        return lib$rsvp$node$$ERROR;\n      }\n    }\n\n\n    function lib$rsvp$node$$tryApply(f, s, a) {\n      try {\n        f.apply(s, a);\n      } catch(error) {\n        lib$rsvp$node$$ERROR.value = error;\n        return lib$rsvp$node$$ERROR;\n      }\n    }\n\n    function lib$rsvp$node$$makeObject(_, argumentNames) {\n      var obj = {};\n      var name;\n      var i;\n      var length = _.length;\n      var args = new Array(length);\n\n      for (var x = 0; x < length; x++) {\n        args[x] = _[x];\n      }\n\n      for (i = 0; i < argumentNames.length; i++) {\n        name = argumentNames[i];\n        obj[name] = args[i + 1];\n      }\n\n      return obj;\n    }\n\n    function lib$rsvp$node$$arrayResult(_) {\n      var length = _.length;\n      var args = new Array(length - 1);\n\n      for (var i = 1; i < length; i++) {\n        args[i - 1] = _[i];\n      }\n\n      return args;\n    }\n\n    function lib$rsvp$node$$wrapThenable(then, promise) {\n      return {\n        then: function(onFulFillment, onRejection) {\n          return then.call(promise, onFulFillment, onRejection);\n        }\n      };\n    }\n\n    function lib$rsvp$node$$denodeify(nodeFunc, options) {\n      var fn = function() {\n        var self = this;\n        var l = arguments.length;\n        var args = new Array(l + 1);\n        var arg;\n        var promiseInput = false;\n\n        for (var i = 0; i < l; ++i) {\n          arg = arguments[i];\n\n          if (!promiseInput) {\n            // TODO: clean this up\n            promiseInput = lib$rsvp$node$$needsPromiseInput(arg);\n            if (promiseInput === lib$rsvp$node$$GET_THEN_ERROR) {\n              var p = new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);\n              lib$rsvp$$internal$$reject(p, lib$rsvp$node$$GET_THEN_ERROR.value);\n              return p;\n            } else if (promiseInput && promiseInput !== true) {\n              arg = lib$rsvp$node$$wrapThenable(promiseInput, arg);\n            }\n          }\n          args[i] = arg;\n        }\n\n        var promise = new lib$rsvp$promise$$default(lib$rsvp$$internal$$noop);\n\n        args[l] = function(err, val) {\n          if (err)\n            lib$rsvp$$internal$$reject(promise, err);\n          else if (options === undefined)\n            lib$rsvp$$internal$$resolve(promise, val);\n          else if (options === true)\n            lib$rsvp$$internal$$resolve(promise, lib$rsvp$node$$arrayResult(arguments));\n          else if (lib$rsvp$utils$$isArray(options))\n            lib$rsvp$$internal$$resolve(promise, lib$rsvp$node$$makeObject(arguments, options));\n          else\n            lib$rsvp$$internal$$resolve(promise, val);\n        };\n\n        if (promiseInput) {\n          return lib$rsvp$node$$handlePromiseInput(promise, args, nodeFunc, self);\n        } else {\n          return lib$rsvp$node$$handleValueInput(promise, args, nodeFunc, self);\n        }\n      };\n\n      fn.__proto__ = nodeFunc;\n\n      return fn;\n    }\n\n    var lib$rsvp$node$$default = lib$rsvp$node$$denodeify;\n\n    function lib$rsvp$node$$handleValueInput(promise, args, nodeFunc, self) {\n      var result = lib$rsvp$node$$tryApply(nodeFunc, self, args);\n      if (result === lib$rsvp$node$$ERROR) {\n        lib$rsvp$$internal$$reject(promise, result.value);\n      }\n      return promise;\n    }\n\n    function lib$rsvp$node$$handlePromiseInput(promise, args, nodeFunc, self){\n      return lib$rsvp$promise$$default.all(args).then(function(args){\n        var result = lib$rsvp$node$$tryApply(nodeFunc, self, args);\n        if (result === lib$rsvp$node$$ERROR) {\n          lib$rsvp$$internal$$reject(promise, result.value);\n        }\n        return promise;\n      });\n    }\n\n    function lib$rsvp$node$$needsPromiseInput(arg) {\n      if (arg && typeof arg === 'object') {\n        if (arg.constructor === lib$rsvp$promise$$default) {\n          return true;\n        } else {\n          return lib$rsvp$node$$getThen(arg);\n        }\n      } else {\n        return false;\n      }\n    }\n    var lib$rsvp$platform$$platform;\n\n    /* global self */\n    if (typeof self === 'object') {\n      lib$rsvp$platform$$platform = self;\n\n    /* global global */\n    } else if (typeof global === 'object') {\n      lib$rsvp$platform$$platform = global;\n    } else {\n      throw new Error('no global: `self` or `global` found');\n    }\n\n    var lib$rsvp$platform$$default = lib$rsvp$platform$$platform;\n    function lib$rsvp$race$$race(array, label) {\n      return lib$rsvp$promise$$default.race(array, label);\n    }\n    var lib$rsvp$race$$default = lib$rsvp$race$$race;\n    function lib$rsvp$reject$$reject(reason, label) {\n      return lib$rsvp$promise$$default.reject(reason, label);\n    }\n    var lib$rsvp$reject$$default = lib$rsvp$reject$$reject;\n    function lib$rsvp$resolve$$resolve(value, label) {\n      return lib$rsvp$promise$$default.resolve(value, label);\n    }\n    var lib$rsvp$resolve$$default = lib$rsvp$resolve$$resolve;\n    function lib$rsvp$rethrow$$rethrow(reason) {\n      setTimeout(function() {\n        throw reason;\n      });\n      throw reason;\n    }\n    var lib$rsvp$rethrow$$default = lib$rsvp$rethrow$$rethrow;\n\n    // defaults\n    lib$rsvp$config$$config.async = lib$rsvp$asap$$default;\n    lib$rsvp$config$$config.after = function(cb) {\n      setTimeout(cb, 0);\n    };\n    var lib$rsvp$$cast = lib$rsvp$resolve$$default;\n    function lib$rsvp$$async(callback, arg) {\n      lib$rsvp$config$$config.async(callback, arg);\n    }\n\n    function lib$rsvp$$on() {\n      lib$rsvp$config$$config['on'].apply(lib$rsvp$config$$config, arguments);\n    }\n\n    function lib$rsvp$$off() {\n      lib$rsvp$config$$config['off'].apply(lib$rsvp$config$$config, arguments);\n    }\n\n    // Set up instrumentation through `window.__PROMISE_INTRUMENTATION__`\n    if (typeof window !== 'undefined' && typeof window['__PROMISE_INSTRUMENTATION__'] === 'object') {\n      var lib$rsvp$$callbacks = window['__PROMISE_INSTRUMENTATION__'];\n      lib$rsvp$config$$configure('instrument', true);\n      for (var lib$rsvp$$eventName in lib$rsvp$$callbacks) {\n        if (lib$rsvp$$callbacks.hasOwnProperty(lib$rsvp$$eventName)) {\n          lib$rsvp$$on(lib$rsvp$$eventName, lib$rsvp$$callbacks[lib$rsvp$$eventName]);\n        }\n      }\n    }\n\n    var lib$rsvp$umd$$RSVP = {\n      'race': lib$rsvp$race$$default,\n      'Promise': lib$rsvp$promise$$default,\n      'allSettled': lib$rsvp$all$settled$$default,\n      'hash': lib$rsvp$hash$$default,\n      'hashSettled': lib$rsvp$hash$settled$$default,\n      'denodeify': lib$rsvp$node$$default,\n      'on': lib$rsvp$$on,\n      'off': lib$rsvp$$off,\n      'map': lib$rsvp$map$$default,\n      'filter': lib$rsvp$filter$$default,\n      'resolve': lib$rsvp$resolve$$default,\n      'reject': lib$rsvp$reject$$default,\n      'all': lib$rsvp$all$$default,\n      'rethrow': lib$rsvp$rethrow$$default,\n      'defer': lib$rsvp$defer$$default,\n      'EventTarget': lib$rsvp$events$$default,\n      'configure': lib$rsvp$config$$configure,\n      'async': lib$rsvp$$async\n    };\n\n    /* global define:true module:true window: true */\n    if (typeof define === 'function' && define['amd']) {\n      define(function() { return lib$rsvp$umd$$RSVP; });\n    } else if (typeof module !== 'undefined' && module['exports']) {\n      module['exports'] = lib$rsvp$umd$$RSVP;\n    } else if (typeof lib$rsvp$platform$$default !== 'undefined') {\n      lib$rsvp$platform$$default['RSVP'] = lib$rsvp$umd$$RSVP;\n    }\n}).call(this);\n\n","/**\n * @author wangxiao liye\n * @see http://github.com/leancloud/js-realtime-sdk/\n *\n * 每位工程师都有保持代码优雅的义务\n * Each engineer has a duty to keep the code elegant\n */\n\nimport { version } from '../package.json';\nimport { ajax } from './tool/ajax';\nimport { eventCenter } from './tool/eventcenter';\nimport * as tool from './tool/index';\n\nimport { Promise } from 'rsvp';\n\nvar extend = Object.assign;\n\n// 配置项\nvar config = {\n  // 心跳时间（一分钟）\n  heartbeatsTime: 60 * 1000,\n  WebSocket: global.WebSocket || global.MozWebSocket || require('ws')\n};\n\n// 命名空间，挂载私有方法\nvar engine = {};\n\n// realtime 对象内，会被派发的全部事件名\nvar eNameIndex = {\n  // session 连接建立完毕\n  open: 'open',\n  // 断开重连\n  reuse: 'reuse',\n  // websocket 连接关闭\n  close: 'close',\n  // 新建一个 conversation 时派发\n  create: 'create',\n  // conversation 新增加成员\n  // deprecated\n  join: 'join',\n  // conversation 成员离开\n  // deprecated\n  left: 'left',\n  // 当前用户被加入会话\n  invited: 'invited',\n  // 当前用户被踢出会话\n  kicked: 'kicked',\n  // 用户加入会话\n  membersjoined: 'membersjoined',\n  // 用户离开会话\n  membersleft: 'membersleft',\n  // conversation 内发送的数据\n  message: 'message',\n  // conversation 消息回执\n  receipt: 'receipt',\n  // conversation 更新\n  update: 'update',\n  // 各种错误\n  error: 'error'\n};\n\n// 生成 conversation 对象，挂载所有 conversation 相关方法，每次调用实例化\nvar newConvObject = function(cache) {\n\n  var addOrRemove = function(cid, argument, callback, cmd) {\n    var members = [];\n    var options;\n    var fun;\n    var eventName;\n\n    // 传入 userId\n    if (typeof argument === 'string') {\n      members.push(argument);\n    } else {\n      // 传入多个 userId\n      members = argument;\n    }\n    options = {\n      cid: cid,\n      members: members,\n      serialId: engine.getSerialId(cache)\n    };\n    switch (cmd) {\n      case 'add':\n        eventName = 'conv-added';\n        engine.convAdd(cache, options);\n        break;\n      case 'remove':\n        eventName = 'conv-removed';\n        engine.convRemove(cache, options);\n        break;\n    }\n    fun = function(data) {\n      if (data.i === options.serialId) {\n        if (callback) {\n          callback(data);\n        }\n        cache.ec.off(eventName, fun);\n      }\n    };\n    cache.ec.on(eventName, fun);\n    return this;\n  };\n\n  return {\n    // cid 即 conversation id\n    id: '',\n    // 创建 Conversation 时的默认属性\n    attr: {},\n    add: function(argument, callback) {\n      addOrRemove(this.id, argument, callback, 'add');\n      return this;\n    },\n    remove: function(argument, callback) {\n      addOrRemove(this.id, argument, callback, 'remove');\n      return this;\n    },\n    // 自己加入\n    join: function(callback) {\n      this.add(cache.options.peerId, callback);\n      return this;\n    },\n    // 自己离开\n    leave: function(callback) {\n      this.remove(cache.options.peerId, callback);\n      return this;\n    },\n    send: function(data, argument1, argument2) {\n      var callback;\n      var options = {};\n      var me = this;\n      switch (arguments.length) {\n        // 只有两个参数时，第二个是回调函数\n        case 2:\n          callback = argument1;\n          break;\n          // 三个参数时，第二个参数是配置项，第三个参数是回调\n        case 3:\n          options = argument1;\n          callback = argument2;\n          break;\n      }\n      options.cid = me.id;\n      options.serialId = engine.getSerialId(cache);\n\n      // 如果 type 存在，则发送多媒体格式\n      if (options.type) {\n        options.data = engine.setMediaMsg(cache, options.type, data);\n      } else {\n        if (typeof data === 'string') {\n          options.data = data;\n        } else {\n          // 协议中只接收 string 类型\n          options.data = JSON.stringify(data);\n        }\n      }\n\n      // 是否需要消息回执\n      if (options.receipt) {\n        options.receipt = 1;\n      }\n\n      // 如果是暂态消息，则不需回调，服务器也不会返回回调\n      if (!options.transient) {\n        var fun = function(data) {\n          if (data.i === options.serialId) {\n            if (callback) {\n              callback(data);\n            }\n            cache.ec.off('ack', fun);\n          }\n        };\n        cache.ec.on('ack', fun);\n      }\n      engine.send(cache, options, callback);\n      return this;\n    },\n    log: function(argument, callback) {\n      var options = {};\n      switch (arguments.length) {\n        // 如果只有一个参数，那么是 callback\n        case 1:\n          callback = argument;\n          break;\n        case 2:\n          options = argument;\n          break;\n      }\n      options.cid = options.cid || this.id;\n      options.serialId = options.serialId || engine.getSerialId(cache);\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          if (callback) {\n            // 对查出的类型进行过滤，兼容多端通信\n            for (var log of data.logs) {\n              log.data = engine.getMediaMsg(cache, log.data);\n              // 增加字段，兼容接收消息的字段\n              log.fromPeerId = log.from;\n              log.msg = log.data;\n            }\n            callback(data.logs);\n          }\n          cache.ec.off('logs', fun);\n        }\n      };\n      cache.ec.on('logs', fun);\n\n      // 注：立刻获取消息历史有可能取不到\n      engine.convLog(cache, options);\n      return this;\n    },\n    receive: function(callback) {\n      var id = this.id;\n      cache.ec.on(eNameIndex.message, function(data) {\n        // 是否是当前 room 的信息\n        if (id === data.cid) {\n          callback(data);\n        }\n      });\n      return this;\n    },\n    // 获取信息回执\n    receipt: function(callback) {\n      var id = this.id;\n      cache.ec.on(eNameIndex.receipt, function(data) {\n        // 是否是当前 room 的信息\n        if (id === data.cid) {\n          callback(data);\n        }\n      });\n      return this;\n    },\n    list: function(callback) {\n      var options = {};\n      var id = this.id;\n      options.where = {\n        objectId: id\n      };\n      options.serialId = engine.getSerialId(cache);\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          if (callback) {\n            if (data.results.length) {\n              // 因为是查询固定的 cid，所以结果只有一个。\n              callback(data.results[0].m);\n            } else {\n              callback([]);\n            }\n          }\n          cache.ec.off('conv-results', fun);\n        }\n      };\n      cache.ec.on('conv-results', fun);\n      engine.convQuery(cache, options);\n      return this;\n    },\n    count: function(callback) {\n      var id = this.id;\n      var options = {\n        cid: id,\n        serialId: engine.getSerialId(cache)\n      };\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          if (callback) {\n            callback(data.count);\n          }\n          cache.ec.off('conv-result', fun);\n        }\n      };\n      cache.ec.on('conv-result', fun);\n      engine.convCount(cache, options);\n      return this;\n    },\n    update: function(data, callback) {\n      var id = this.id;\n      var options = {\n        cid: id,\n        data: data,\n        serialId: engine.getSerialId(cache)\n      };\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          if (callback) {\n            callback(data);\n          }\n          cache.ec.off('conv-updated', fun);\n        }\n      };\n      cache.ec.on('conv-updated', fun);\n      engine.convUpdate(cache, options);\n      return this;\n    }\n  };\n};\n\n// 创建一个新的 realtime 对象，挂载所有 realtime 中的方法，每次调用实例化一个实例，支持单页多实例。\nvar newRealtimeObject = function() {\n\n  // 缓存一些已经实例化的变量\n  var cache = {\n    // 基础配置，包括 appId，peerId 等\n    options: undefined,\n    // WebSocket 实例\n    ws: undefined,\n    // 事件中心\n    ec: undefined,\n    // 所有已生成的 conversation 对象\n    conv: {},\n    // 是否已经 open 完毕，主要在 close 方法中检测\n    openFlag: false,\n    // 是否是用户关闭，如果不是将会断开重连\n    closeFlag: false,\n    // reuse 事件的重试 timer\n    reuseTimer: undefined,\n    // resuse 状态，如果为 true 表示内部已经在重试中\n    reuseFlag: false,\n    // 当前的 serialId\n    serialId: 2015\n  };\n\n  return {\n    clientId: '',\n    cache: cache,\n    open: function(callback) {\n      var me = this;\n      var cache = this.cache;\n      cache.closeFlag = false;\n      engine.getServer(cache, cache.options, function(data) {\n        if (data) {\n          engine.connect(cache, {\n            server: cache.server\n          });\n        }\n      });\n      if (callback) {\n        cache.ec.once(eNameIndex.open, callback);\n      }\n      // 断开重连\n      cache.ec.once(eNameIndex.reuse, function() {\n        if (cache.reuseTimer) {\n          clearTimeout(cache.reuseTimer);\n        }\n        cache.reuseTimer = setTimeout(function() {\n          me.open();\n        }, 5000);\n      });\n      return this;\n    },\n    // 表示关闭当前的 session 连接和 WebSocket 连接，并且回收内存\n    close: function() {\n      var cache = this.cache;\n      if (!cache.openFlag) {\n        throw new Error('Must call after open() has successed.');\n      }\n      cache.closeFlag = true;\n      engine.closeSession(cache);\n      cache.ws.close();\n      return this;\n    },\n    on: function(eventName, callback) {\n      this.cache.ec.on(eventName, callback);\n      return this;\n    },\n    once: function(eventName, callback) {\n      this.cache.ec.once(eventName, callback);\n      return this;\n    },\n    emit: function(eventName, data) {\n      this.cache.ec.emit(eventName, data);\n      return this;\n    },\n    off: function(eventName, callback) {\n      this.cache.ec.off(eventName, callback);\n      return this;\n    },\n    room: function(argument, callback) {\n      var cache = this.cache;\n      if (!cache.openFlag) {\n        throw new Error('Must call after open() has successed.');\n      }\n\n      var convObject;\n\n      // 传入 convId\n      if (typeof argument === 'string') {\n        var convId = argument;\n\n        // 优先使用 cache 中的 conv\n        if (cache.conv[convId]) {\n          convObject = cache.conv[convId];\n        } else {\n          convObject = newConvObject(cache);\n        }\n\n        // 去服务器端判断下当前 room id 是否存在\n        this.query({\n          where: {\n            objectId: convId\n          }\n        }, function(data) {\n\n          // 如果服务器端有这个 id\n          if (data.length) {\n            convObject.id = convId;\n            convObject.name = data[0].name;\n            // 获取初始化时的属性\n            convObject.attr = data[0].attr;\n            // 将 conv 写入 cache\n            cache.conv[convId] = convObject;\n          }\n\n          if (callback) {\n            // 如果服务器端存在就直接返回 roomObject\n            if (data.length) {\n              callback(convObject);\n            } else {\n              // 如果服务器端不存在这个 room id\n              callback(null);\n            }\n          }\n        });\n      } else {\n        // 传入 options\n        // 如果没有传入参数，则给一个错误提示\n        if (!argument) {\n          throw new Error('Createing room must have a callback function.');\n        }\n\n        var options;\n\n        // 只传入 callback\n        if (typeof argument === 'function') {\n          callback = argument;\n        } else {\n          // 传入参数\n          options = argument;\n        }\n\n        options = {\n          // Room 的名字\n          name: options.name || '',\n          // 人员的 id list\n          members: options.members || [],\n          // 默认的数据，可以放 Conversation 名字等\n          attr: options.attr || {},\n          transient: options.transient || false,\n          unique: options.unique || false,\n          serialId: engine.getSerialId(cache)\n        };\n\n        convObject = newConvObject(cache);\n\n        engine.startConv(cache, options, callback);\n\n        // 服务器端确认收到对话创建，并创建成功\n        var fun = function(data) {\n          if (data.i === options.serialId) {\n            convObject.id = data.cid;\n            convObject.name = options.name;\n            convObject.attr = options.attr;\n            // 将 conv 写入 cache\n            cache.conv[convObject.id] = convObject;\n            if (callback) {\n              callback(convObject);\n            }\n            cache.ec.emit(eNameIndex.create, data);\n            cache.ec.off('conv-started', fun);\n          }\n        };\n        cache.ec.on('conv-started', fun);\n      }\n      return convObject;\n    },\n    // conv 就是 room 的别名\n    conv: function() {\n      return this.room.apply(this, arguments);\n    },\n    // 相关查询，包括用户列表查询，房间查询等\n    query: function(argument, callback) {\n      var cache = this.cache;\n      if (!cache.openFlag) {\n        throw new Error('Must call after open() has successed.');\n      }\n      var options = {};\n      switch (arguments.length) {\n        // 如果只有一个参数，那么是 callback\n        case 1:\n          callback = argument;\n          break;\n        case 2:\n          options = argument;\n          break;\n      }\n      options.serialId = engine.getSerialId(cache);\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          if (callback) {\n            callback(data.results);\n          }\n          cache.ec.off('conv-results', fun);\n        }\n      };\n      cache.ec.on('conv-results', fun);\n      if (!options.where) {\n        options.where = {};\n        // 默认查找的当前用户所在的 conv\n        options.where.m = cache.options.peerId;\n      }\n      engine.convQuery(cache, options);\n      return this;\n    },\n    // 判断用户是否在线\n    ping: function(argument, callback) {\n      var cache = this.cache;\n      if (!cache.openFlag) {\n        throw new Error('Must call after open() has successed.');\n      }\n      if (!callback) {\n        throw new Error('Ping must have callback.');\n      }\n      var peerIdList = [];\n      // 传入一个 id\n      if (typeof(argument) === 'string') {\n        peerIdList.push(argument);\n      } else {\n        // 传入的是数组\n        peerIdList = argument;\n      }\n      var options = {\n        serialId: engine.getSerialId(cache),\n        peerIdList: peerIdList\n      };\n      var fun = function(data) {\n        if (data.i === options.serialId) {\n          callback(data.onlineSessionPeerIds);\n          cache.ec.off('session-query-result', fun);\n        }\n      };\n      cache.ec.on('session-query-result', fun);\n      engine.querySession(cache, options);\n      return this;\n    }\n  };\n};\n\n// 主函数，启动通信并获得 realtimeObject\nvar realtime = function(options, callback) {\n  if (typeof options !== 'object') {\n    throw new Error('realtime need a argument at least.');\n  } else if (!options.appId) {\n    throw new Error('Options must have appId.');\n  } else if (!config.WebSocket) {\n    console.error('Browser must support WebSocket, please read LeanCloud doc and use plugin.');\n  } else {\n\n    // 通过判断插件库中的对象是否存在来检测是否需要关掉安全链接，在需要兼容 flash 的时候需要关掉，默认开启。\n    var secure = config.WebSocket.loadFlashPolicyFile ? false : true;\n\n    options = {\n      // LeanCloud 中唯一的服务 id\n      appId: options.appId,\n      // clientId 对应的就是 peerId，如果不传入服务器会自动生成，客户端没有持久化该数据。\n      peerId: options.clientId,\n      // 是否开启 HTML 转义，防止 XSS 攻击，默认关闭\n      encodeHTML: options.encodeHTML || false,\n      // 是否开启服务器端认证，传入认证函数\n      auth: options.auth,\n      // 是否关闭 WebSocket 的安全链接，即由 wss 协议转为 ws 协议，关闭 SSL 保护。默认开启。\n      secure: typeof(options.secure) === 'undefined' ? secure : options.secure,\n      // 服务器地区选项，默认为中国大陆\n      region: options.region || 'cn'\n    };\n\n    var realtimeObj = newRealtimeObject();\n    realtimeObj.clientId = options.peerId;\n    realtimeObj.cache.options = options;\n    realtimeObj.cache.ec = eventCenter();\n    realtimeObj.cache.authFun = options.auth;\n    realtimeObj.open(callback);\n\n    return realtimeObj;\n  }\n};\n\n// 赋值版本号\nrealtime.version = version;\n\n// 挂载私有方法\nrealtime._tool = tool;\nrealtime._engine = engine;\n\nrealtime.config = function(newConfig) {\n  extend(config, newConfig);\n};\n\n// WebSocket Open\nengine.wsOpen = function(cache) {\n  engine.bindEvent(cache);\n  engine.openSession(cache, {\n    serialId: engine.getSerialId(cache)\n  });\n  // 启动心跳\n  engine.heartbeats(cache);\n  // 启动守护进程\n  engine.guard(cache);\n};\n\n// WebSocket Close\nengine.wsClose = function(cache, event) {\n  // 派发全局 close 事件，表示 realtime 已经关闭\n  cache.ec.emit(eNameIndex.close, event);\n};\n\n// WebSocket Message\nengine.wsMessage = function(cache, msg) {\n  var data = JSON.parse(msg.data);\n\n  // 对服务端返回的数据进行逻辑包装\n  if (data.cmd) {\n    var eventName = data.cmd;\n    if (data.op) {\n      eventName += '-' + data.op;\n    }\n    cache.ec.emit(eventName, data);\n  }\n};\n\nengine.wsError = function(cache, data) {\n  cache.ec.emit(eNameIndex.error, data);\n  throw (data);\n};\n\n// WebSocket send message\nengine.wsSend = function(cache, data) {\n  if (!cache.closeFlag) {\n    if (!cache.ws) {\n      throw new Error('The realtimeObject must opened first. Please listen to the \"open\" event.');\n    } else {\n      data.peerId = cache.options.peerId;\n      cache.ws.send(JSON.stringify(data));\n    }\n  }\n};\n\nengine.createSocket = function(cache, server) {\n  if (cache.ws) {\n    cache.ws.close();\n  }\n  var ws = new config.WebSocket(server);\n  cache.ws = ws;\n  ws.addEventListener('open', function() {\n    engine.wsOpen(cache);\n  });\n  ws.addEventListener('close', function(event) {\n    engine.wsClose(cache, event);\n  });\n  ws.addEventListener('message', function(msg) {\n    engine.wsMessage(cache, msg);\n  });\n  ws.addEventListener('error', function(data) {\n    engine.wsError(cache, data);\n  });\n};\n\n// 心跳程序\nengine.heartbeats = function(cache) {\n\n  // 当前 RealtimeObject 已经启动心跳程序\n  if (cache.openFlag) {\n    return;\n  }\n\n  var timer;\n  cache.ws.addEventListener('message', function() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function() {\n      cache.ws.send('{}');\n    }, config.heartbeatsTime);\n  });\n};\n\n// 守护进程，会派发 reuse 重连事件\nengine.guard = function(cache) {\n\n  // 当前 RealtimeObject 已经启动守护进程\n  if (cache.openFlag) {\n    return;\n  }\n\n  // 超时是三分钟\n  var timeLength = 3 * 60 * 1000;\n  var timer;\n\n  // 结合心跳事件，如果长时间没有收到服务器的心跳，也要触发重连机制\n  cache.ws.addEventListener('message', function() {\n    if (timer) {\n      clearTimeout(timer);\n    }\n    timer = setTimeout(function() {\n      if (!cache.closeFlag && !cache.reuseFlag) {\n        cache.reuseFlag = true;\n        // 超时则派发重试事件\n        cache.ec.emit(eNameIndex.reuse);\n      }\n    }, timeLength);\n  });\n\n  // 监测断开事件\n  cache.ec.on(eNameIndex.close + ' ' + 'session-closed', function() {\n    if (!cache.closeFlag && !cache.reuseFlag) {\n      cache.reuseFlag = true;\n      cache.ec.emit(eNameIndex.reuse);\n    }\n  });\n};\n\nengine.connect = function(cache, options) {\n  var server = options.server;\n  // 判断获取出缓存的时间是否是比较新的\n  if (server && tool.now() <= server.expires) {\n    engine.createSocket(cache, server.server);\n  } else {\n    cache.ec.emit(eNameIndex.error);\n    throw new Error('WebSocket connet failed.');\n  }\n};\n\nengine.getServer = function(cache, options, callback) {\n  var appId = options.appId;\n  // 是否获取 wss 的安全链接\n  var secure = options.secure;\n  var url = '';\n  var protocol = '//';\n  if (secure) {\n    protocol = 'https://';\n  }\n  var node = '';\n  switch (options.region) {\n    case 'cn':\n      node = 'g0';\n      break;\n    case 'us':\n      node = 'a0';\n      break;\n    default:\n      throw new Error('There is no this region.');\n  }\n  url = protocol + 'router-' + node + '-push.leancloud.cn/v1/route';\n  url += '?_t=' + tool.now() + '&appId=' + appId;\n  if (secure) {\n    url += '&secure=1';\n  }\n  ajax(url, function(error, data) {\n    if (data) {\n      data.expires = tool.now() + data.ttl * 1000;\n      cache.server = data;\n      callback(data);\n    } else {\n      cache.ec.emit(eNameIndex.error);\n    }\n  });\n};\n\n// 打开 session\nengine.openSession = function(cache, options) {\n  var cmd = {\n    cmd: 'session',\n    op: 'open',\n    appId: cache.options.appId,\n    ua: 'js/' + version,\n    i: options.serialId\n  };\n  if (cache.authFun) {\n    cache.authFun({\n      clientId: cache.options.peerId\n    }, function(authResult) {\n      if (authResult && authResult.signature) {\n        cmd.n = authResult.nonce;\n        cmd.t = authResult.timestamp;\n        cmd.s = authResult.signature;\n        engine.wsSend(cache, cmd);\n      } else {\n        throw new Error('Session open denied by application: ' + authResult);\n      }\n    });\n  } else {\n    engine.wsSend(cache, cmd);\n  }\n};\n\nengine.closeSession = function(cache) {\n  engine.wsSend(cache, cache, {\n    cmd: 'session',\n    op: 'close'\n  });\n};\n\nengine.startConv = function(cache, options) {\n  var cmd = {\n    cmd: 'conv',\n    op: 'start',\n    // m [] 初始的对话用户id列表，服务器默认会把自己加入\n    m: options.members,\n    // attr json对象，对话的任意初始属性\n    attr: {\n      name: options.name || '',\n      attr: options.attr || {}\n    },\n    i: options.serialId,\n    unique: options.unique || false,\n    // 是否是开放聊天室，无人数限制\n    transient: options.transient || false\n  };\n  if (cache.authFun) {\n    cache.authFun({\n      clientId: cache.options.peerId,\n      members: options.members\n    }, function(authResult) {\n      if (authResult && authResult.signature) {\n        cmd.n = authResult.nonce;\n        cmd.t = authResult.timestamp;\n        cmd.s = authResult.signature;\n        engine.wsSend(cache, cmd);\n      } else {\n        throw new Error('Conversation creation denied by application: ' + authResult);\n      }\n    });\n  } else {\n    engine.wsSend(cache, cmd);\n  }\n};\n\nengine.convAdd = function(cache, options) {\n  var cmd = {\n    cmd: 'conv',\n    op: 'add',\n    cid: options.cid,\n    m: options.members,\n    i: options.serialId\n  };\n  if (cache.authFun) {\n    cache.authFun({\n      clientId: cache.options.peerId,\n      members: options.members,\n      convId: options.cid,\n      action: 'invite'\n    }, function(authResult) {\n      if (authResult && authResult.signature) {\n        cmd.n = authResult.nonce;\n        cmd.t = authResult.timestamp;\n        cmd.s = authResult.signature;\n        engine.wsSend(cache, cmd);\n      } else {\n        throw new Error('Adding members to conversation denied by application: ' + authResult);\n      }\n    });\n  } else {\n    engine.wsSend(cache, cmd);\n  }\n};\n\nengine.convRemove = function(cache, options) {\n  var cmd = {\n    cmd: 'conv',\n    op: 'remove',\n    cid: options.cid,\n    m: options.members,\n    i: options.serialId\n  };\n  if (cache.authFun && (options.members.length > 1 || options.members[0] != cache.options.peerId)) {\n    cache.authFun({\n      clientId: cache.options.peerId,\n      members: options.members,\n      convId: options.cid,\n      action: 'kick'\n    }, function(authResult) {\n      if (authResult && authResult.signature) {\n        cmd.n = authResult.nonce;\n        cmd.t = authResult.timestamp;\n        cmd.s = authResult.signature;\n        engine.wsSend(cache, cmd);\n      } else {\n        throw new Error('Removing members from conversation denied by application: ' + authResult);\n      }\n    });\n  } else {\n    engine.wsSend(cache, cmd);\n  }\n};\n\nengine.send = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'direct',\n    cid: options.cid,\n    msg: options.data,\n    i: options.serialId,\n    // r 是否需要回执需要则1，否则不传\n    r: options.receipt || false,\n    // transient 是否暂态消息（暂态消息不返回 ack，不保留离线消息，不触发离 线推送），否则不传\n    transient: options.transient || false\n  });\n};\n\nengine.convQuery = function(cache, options) {\n  options = options || {};\n  var where = options.where || {};\n\n  // 同时查找含有数组中 id 的用户所在的 conversation\n  if (where.m && typeof where.m !== 'string') {\n    where.m = {\n      $all: where.m\n    };\n  }\n\n  // 批量查找 room 信息\n  if (where.roomIds || where.convIds) {\n    where.objectId = {\n      $in: where.roomIds || where.convIds\n    };\n    // 避免对查询项产生干扰\n    delete where.roomIds;\n    delete where.convIds;\n  }\n\n  engine.wsSend(cache, {\n    cmd: 'conv',\n    op: 'query',\n    // where 可选，对象，默认为包含自己的查询 {\"m\": peerId}\n    where: where,\n    // sort 可选，字符串，默认为 -lm，最近对话反序\n    sort: options.sort || '-lm',\n    // limit 可选，数字，默认10\n    limit: options.limit || 10,\n    // skip 可选，数字，默认0\n    skip: options.skip || 0,\n    // i serial-id\n    i: options.serialId\n  });\n};\n\n// 查询 session 在线情况\nengine.querySession = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'session',\n    op: 'query',\n    i: options.serialId,\n    sessionPeerIds: options.peerIdList\n  });\n};\n\n// 查询 conversation 的聊天记录\nengine.convLog = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'logs',\n    cid: options.cid,\n    // t 时间戳，从 t 开始向前查询\n    t: options.t || undefined,\n    // mid 消息 id，从消息 id 开始向前查询（和 t 共同使用，为防止某毫秒时刻有重复消息）\n    mid: options.mid || undefined,\n    limit: options.limit || 20,\n    // i serial-id\n    i: options.serialId\n  });\n};\n\nengine.convUpdate = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'conv',\n    op: 'update',\n    cid: options.cid,\n    // attr 要修改的内容\n    attr: options.data,\n    i: options.serialId\n  });\n};\n\nengine.convAck = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'ack',\n    cid: options.cid,\n    mid: options.mid\n  });\n};\n\nengine.convCount = function(cache, options) {\n  engine.wsSend(cache, {\n    cmd: 'conv',\n    op: 'count',\n    i: options.serialId,\n    cid: options.cid\n  });\n};\n\n// 取出多媒体类型的格式（内置 HTML 转义逻辑）\nengine.getMediaMsg = function(cache, msg) {\n\n  // 检查是否是 JSON 格式的一个 String 类型\n  if (!tool.isJSONString(msg)) {\n\n    // 是否对消息中的 HTML 进行转义\n    if (cache.options.encodeHTML) {\n      msg = tool.encodeHTML(msg);\n    }\n    return msg;\n  }\n\n  msg = JSON.parse(msg);\n\n  // 检查是否是多媒体类型\n  if (!msg.hasOwnProperty('_lctype')) {\n    return msg;\n  }\n\n  var obj = {\n    text: msg._lctext,\n    attr: msg._lcattrs\n  };\n\n  // 是否对消息中的 HTML 进行转义，对媒体格式仅对 text 转义\n  if (cache.options.encodeHTML) {\n    obj.text = tool.encodeHTML(msg._lctext);\n  }\n\n  if (msg._lcfile && msg._lcfile.url) {\n    obj.url = msg._lcfile.url;\n  }\n  if (msg._lcfile && msg._lcfile.metaData) {\n    obj.metaData = msg._lcfile.metaData;\n  }\n\n  // 多媒体类型\n  switch (msg._lctype) {\n    case -1:\n      obj.type = 'text';\n      break;\n    case -2:\n      obj.type = 'image';\n      break;\n    case -3:\n      obj.type = 'audio';\n      break;\n    case -4:\n      obj.type = 'video';\n      break;\n    case -5:\n      obj.type = 'location';\n      if (msg._lcloc) {\n        obj.location = msg._lcloc;\n      }\n      break;\n    case -6:\n      obj.type = 'file';\n      break;\n    // 自定义类型，返回全部自定义数据\n    default:\n      obj = msg;\n      break;\n  }\n  return obj;\n};\n\n// 生成多媒体特定格式的数据\nengine.setMediaMsg = function(cache, type, data) {\n  var obj;\n  if (type !== 'text' && !data.metaData) {\n    throw new Error('Media Data must have metaData attribute.');\n  }\n  switch (type) {\n    case 'text':\n      obj = {\n        _lctype: -1,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr\n      };\n      break;\n    case 'image':\n      obj = {\n        _lctype: -2,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr,\n        _lcfile: {\n          url: data.url,\n          objId: data.objectId,\n          metaData: {\n            name: data.metaData.name,\n            // 格式\n            format: data.metaData.format,\n            //单位：像素\n            height: data.metaData.height,\n            //单位：像素\n            width: data.metaData.width,\n            //单位：b\n            size: data.metaData.size\n          }\n        }\n      };\n      break;\n    case 'audio':\n      obj = {\n        _lctype: -3,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr,\n        _lcfile: {\n          url: data.url,\n          objId: data.objectId,\n          metaData: {\n            name: data.metaData.name,\n            // 媒体格式\n            format: data.metaData.format,\n            //单位：秒\n            duration: data.metaData.duration,\n            //单位：b\n            size: data.metaData.size\n          }\n        }\n      };\n      break;\n    case 'video':\n      obj = {\n        _lctype: -4,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr,\n        _lcfile: {\n          url: data.url,\n          objId: data.objectId,\n          metaData: {\n            name: data.metaData.name,\n            // 媒体格式\n            format: data.metaData.format,\n            // 单位：秒\n            duration: data.metaData.duration,\n            //单位：b\n            size: data.metaData.size\n          }\n        }\n      };\n      break;\n    case 'location':\n      obj = {\n        _lctype: -5,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr,\n        _lcloc: {\n          // 经度\n          longitude: data.metaData.longitude,\n          // 维度\n          latitude: data.metaData.latitude\n        }\n      };\n      break;\n    case 'file':\n      obj = {\n        _lctype: -6,\n        _lctext: data.text,\n        // _lcattrs 是用来存储用户自定义的一些键值对\n        _lcattrs: data.attr,\n        _lcfile: {\n          name: data.metaData.name,\n          // 单位：b\n          size: data.metaData.size\n        }\n      };\n      break;\n  }\n  obj = JSON.stringify(obj);\n  return obj;\n};\n\n// 取自增的 number 类型\nengine.getSerialId = function(cache) {\n  cache.serialId++;\n  if (cache.serialId > 999999) {\n    cache.serialId = 2015;\n  }\n  return cache.serialId;\n};\n\n// 绑定所有服务返回事件\nengine.bindEvent = function(cache) {\n\n  // RealtimeObject 已经初始化过，不再重复绑定事件\n  if (cache.openFlag) {\n    return;\n  }\n\n  cache.ec.on('session-opened', function(data) {\n    // 标记重试状态为 false，表示没有在重试\n    cache.reuseFlag = false;\n    // 标记开启状态，已经开启\n    cache.openFlag = true;\n    // 派发全局 open 事件，表示 realtime 已经启动\n    cache.ec.emit(eNameIndex.open, data);\n  });\n\n  // cache.ec.on('session-closed', function() {\n  // session 被关闭，则关闭当前 websocket 连接\n  // });\n\n  // 查询 session 在线情况\n  // cache.ec.on('session-query-result', function() {});\n\n  cache.ec.on('session-error', function(data) {\n    cache.ec.emit(eNameIndex.error, data);\n  });\n\n  // 服务器端确认收到 conversation 创建，并创建成功\n  // 在创建时已经做绑定，所以注释掉\n  // cache.ec.on('conv-started', function(data) {});\n\n  // 服务器端发给客户端，表示当前用户加入了某个对话。包括创建对话、或加入对话\n  cache.ec.on('conv-joined', function(data) {\n    // 不是当前用户自己加入\n    // join 事件已废弃\n    // 这里把当前用户主动操作的情况过滤掉了，为了兼容保持原样。\n    if (data.peerId !== data.initBy) {\n      cache.ec.emit(eNameIndex.join, data);\n    }\n    cache.ec.emit(eNameIndex.invited, data);\n  });\n\n  // 服务器端发给客户端，表示当前用户离开了某个对话，不再能收到对话的消息\n  cache.ec.on('conv-left', function(data) {\n    cache.ec.emit(eNameIndex.left, data);\n    cache.ec.emit(eNameIndex.kicked, data);\n  });\n\n  // 服务器端发给客户端，表示当前对话有新人加入\n  cache.ec.on('conv-members-joined', function(data) {\n    cache.ec.emit(eNameIndex.join, data);\n    cache.ec.emit(eNameIndex.membersjoined, data);\n  });\n\n  // 服务器端发给客户端，表示当前对话有新人离开\n  cache.ec.on('conv-members-left', function(data) {\n    cache.ec.emit(eNameIndex.left, data);\n    cache.ec.emit(eNameIndex.membersleft, data);\n  });\n\n  // 服务器端回复。表示 add 操作完成\n  // 因为 added 之后也会触发 members-joined，所以注释掉\n  // cache.ec.on('conv-added', function(data) {});\n\n  // 服务器端确认删除成功\n  // 因为 removed 之后也会触发 members-removed，所以注释掉\n  // cache.ec.on('conv-removed', function() {});\n\n  cache.ec.on('conv-error', function(data) {\n    cache.ec.emit(eNameIndex.error, data);\n    throw (data.code + ':' + data.reason);\n  });\n\n  // 查询对话的结果\n  // cache.ec.on('conv-results', function(data) {});\n\n  // cache.ec.on('conv-updated', function(data) {});\n\n  cache.ec.on('direct', function(data) {\n\n    // 增加多媒体消息的数据格式化\n    data.msg = engine.getMediaMsg(cache, data.msg);\n\n    // 暂态消息无需回复\n    if (!data.transient) {\n      engine.convAck(cache, {\n        cid: data.cid,\n        mid: data.id\n      });\n    }\n\n    cache.ec.emit(eNameIndex.message, data);\n  });\n\n  // 对要求回执的消息，服务器端会在对方客户端发送ack后发送回执\n  cache.ec.on('rcp', function(data) {\n    cache.ec.emit(eNameIndex.receipt, data);\n  });\n\n  // cache.ec.on('ack', function(data) {});\n\n  // 用户可以获取自己所在对话的历史记录\n  // cache.ec.on('logs', function(data) {});\n};\n\nexport default realtime;\n"],"names":["tool","tool.now","tool.isJSONString","tool.encodeHTML"],"mappings":"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"}